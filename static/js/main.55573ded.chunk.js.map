{"version":3,"sources":["landingPage/CreateButton.jsx","landingPage/ImportButton.jsx","landingPage/Index.jsx","landingPage/BackButton.jsx","landingPage/ConfirmButton.jsx","landingPage/Upload.jsx","landingPage/NewFileForm.jsx","landingPage/LandingPage.jsx","mainPage/rules/NewRuleForm.jsx","mainPage/ConfigFileModal.jsx","mainPage/rules/ruleCard.jsx","mainPage/LeftPanel.jsx","lib/OntologyReader.js","mainPage/map/markerButton.jsx","mainPage/map/maptoolbar.jsx","mainPage/map/map.jsx","mainPage/RightPanel.jsx","App.jsx","serviceWorker.js","index.js","assets/logo.jpg"],"names":["CreateButton","props","react_default","a","createElement","Button","icon","labelPosition","className","onClick","Icon","name","style","width","size","ImportButton","type","multiple","display","accept","Index","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","parseConfigurationFile","state","screen","errorMessage","configFile","file","triggerImportFile","bind","assertThisInitialized","reactComponent","fileInput","document","getElementsByClassName","ruleTypes","click","addEventListener","e","files","match","reader","FileReader","onload","validFile","JSON","parse","result","keys","map","k","Array","isArray","error","onChangeContent","valid","readAsText","_this2","Grid","centered","Row","columns","stretched","height","padding","Column","Header","as","textAlign","Image","rounded","src","Content","dividing","Group","landingPage_CreateButton","Or","landingPage_ImportButton","React","Component","BackButton","margin","border-radius","ConfirmButton","disabled","label","Upload","validFileScreen","errorScreen","nbOfRules","undefined","data","length","Segment","Label","computeNumberOfRules","_this3","content","landingPage_BackButton","landingPage_ConfirmButton","onConfirm","configFileContext","@context","osm","opp","prov","hasMaxSpeed","@id","usePublicTransport","hasAccessRules","hasOnewayRules","hasSpeedRules","hasPriorityRules","hasObstacleRules","hasAccess","isOneway","isReversed","hasSpeed","isObstacle","hasPriority","concludes","hasOrder","fromProperty","@type","hasPredicate","hasObject","NewConfigFileForm","onNewConfigFileCreation","formValues","description","Number","maxSpeed","defaultRule","push","handleChange","_ref","value","setState","defineProperty","showErrorMessage","_this$state","Form","Input","placeholder","onChange","required","Checkbox","checked","form","customModalStyle","borderRadius","outline","border","top","left","position","marginRight","transform","overlay","backgroundColor","Modal","setAppElement","LandingPage","landingPage_Index","handleChangeContent","landingPage_Upload","handleConfirm","fileData","NewFileForm","showModal","handleOpenModal","handleCloseModal","lib_default","isOpen","contentLabel","NewRuleForm","handleChangeChecked","conclusion","onClose","onSubmit","ruleType","key","order","conclusionForm","ruleTypeOptions","text","keyOptions","selectOptions","prop","valueOptions","val","slider","Select","options","open","ConfigFileModal","es","id","locale","viewOnly","RuleCard","index","option","rule","toggle","header","Card","fluid","onDelete","LeftPanel","require","handleClick","titleProps","newIndex","activeIndex","handleSubmit","newActiveIndex","indexOf","onNewRuleSubmit","displayBasicProperties","Fragment","Accordion","Title","active","showConfigFile","loaded","i","j","ruleCard","stringify","onRuleConclusionChange","onRuleDelete","Menu","Item","primary","secondary","styled","displayContent","rules_NewRuleForm","rulesSelectOptions","MarkerButton","children","basic","pointing","marker","placed","Math","round","lngLat","lat","lng","MapToolbar","active_route_label_input","evt","target","_this$props","calculating","from_marker","to_marker","selectable_routes","selected_routes","handleSelectedRouteAddition","handleSelectedRoutesChange","calculateRoute","saveCurrentRoute","createToMarker","createFromMarker","Container","loading","updateActiveRouteText","action","Dropdown","search","selection","allowAdditions","onAddItem","Map","ReactMapboxGl","accessToken","markerFromGeojson","features","geometry","coordinates","markerToGeojson","lineLayout","line-cap","line-join","linePaint","line-color","line-width","savedRouteLinePaint","containerStyle","cursor","MapPannel","console","log","prevState","concat","toConsumableArray","_ref2","saved_routes","center","zoom","enabled","dragging","active_route","container_style","onStyleLoad","onMouseMove","onMouseClick","onMouseUp","planner","Planner","setProfileID","pervProps","setDevelopmentProfile","query","roadNetworkOnly","from","latitude","longitude","to","take","on","path","route_coordinates","steps","forEach","step","startLocation","stopLocation","date","Date","toISOString","routeExists","route","coords","addSource","addLayer","source","paint","circle-radius","circle-color","parent","setPaintProperty","preventDefault","getSource","setData","routesToDraw","lib_esm","layout","maptoolbar","RightPanel","osm:access","osm:barrier","osm:bicycle","osm:construction","osm:crossing","osm:cycleway","osm:footway","osm:highway","osm:motor_vehicle","osm:motorcar","osm:oneway_bicycle","osm:oneway","osm:smoothness","osm:surface","osm:tracktype","osm:vehicle","defaultValue","logo","alt","App","handleFileConfirm","leftLoaded","handleNewRuleSubmit","isANewRule","objectSpread","conclusionLabel","newRule","unshift","triggerMessage","handleRuleConclusionChange","handleRuleDelete","splice","landingPage_LandingPage","App_Header","LeftPanel_LeftPanel","mainPage_RightPanel","c","onfigFile","Boolean","window","location","hostname","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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ACA,kBACA,kBAEFC,mBAAoB,CAAC,yBACrBC,eAAgB,CAAC,mBAAoB,gBACrCC,eAAgB,CACd,WACA,eACA,oBACA,oBACA,kBACA,aACA,iBACA,aAEFC,cAAe,CAAC,gBAChBC,cAAe,CACb,gBACA,wBACA,sBACA,mBACA,kBACA,cACA,mBACA,eACA,mBACA,WACA,cACA,kBACA,eACA,kBACA,WACA,gBACA,oBACA,cACA,YACA,WACA,eACA,mBACA,YACA,qBACA,YACA,gBACA,oBAEFC,oBAAqB,CACnB,mBACA,gBACA,eACA,iBACA,kBACA,eACA,eACA,iBACA,cACA,kBAEFC,eAAgB,CACd,mBACA,gBACA,eACA,iBACA,kBACA,eACA,eACA,eACA,iBACA,cACA,kBAEFC,qBAAsB,CACpB,qBACA,cACA,oBACA,eAEFC,aAAc,CACZ,qBACA,cACA,cACA,qBAEFC,iBAAkB,CAChB,oBACA,0BACA,qBACA,yBACA,2BACA,6BACA,wBACA,8BAEFC,cAAe,CACb,cACA,kBACA,gBACA,eACA,WACA,WACA,iBACA,YACA,aACA,aACA,UACA,YACA,mBACA,kBACA,WACA,WACA,wBACA,cACA,YAEFC,gBAAiB,CACf,aACA,aACA,aACA,aACA,cAEFC,cAAe,CACb,gBACA,eACA,iBACA,kBACA,eACA,eACA,iBACA,cACA,mBAIE7U,GAAY,CAChB0E,eAAgB,CACdoE,WAAY,YACZvK,KAAM,UACNuW,cAAc,GAEhBhQ,iBAAkB,CAChBgE,WAAY,aACZvK,KAAM,UACNuW,cAAc,GAEhBnQ,eAAgB,CACdmE,WAAY,WACZvK,KAAM,UACNuW,cAAc,GAEhBjQ,iBAAkB,CAChBiE,WAAY,cACZvK,KAAM,SACNuW,aAAc,GAEhBlQ,cAAe,CACbkE,WAAY,WACZvK,KAAM,SACNuW,aAAc,KAIlB,SAAS/S,KACP,OACEtE,EAAAC,EAAAC,cAAA,UAAQI,UAAU,cAChBN,EAAAC,EAAAC,cAAA,OAAKyE,IAAK2S,KAAMhX,UAAU,WAAWiX,IAAI,SACzCvX,EAAAC,EAAAC,cAAA,QAAMI,UAAU,cAAhB,uBA+FSkX,eAzFb,SAAAA,EAAYzX,GAAO,IAAAoB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkW,IACjBrW,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoW,GAAA/V,KAAAH,KAAMvB,KAOR0X,kBAAoB,SAAA3V,GAClBX,EAAK0H,SAAS,CAAE/G,WAAYA,EAAY4V,YAAY,KATnCvW,EAYnBwW,oBAAsB,SAAAvP,GACpB,IAAIwP,GAAa,EAajB,GAZAzW,EAAKQ,MAAMG,WAAWsG,EAAWoD,UAAUnI,IAAI,SAAA0J,GAC7C,OACEA,EAAI,OACJA,EAAI,MAAJ,eAAkC3E,EAAWqD,KAC7CsB,EAAI,MAAJ,YAA+B3E,EAAWQ,QAE1CgP,GAAa,GACN,KAKPA,EAAY,CACd,IAAI9V,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YAC7BgW,EAAkBvV,GAAU6F,EAAWoD,UAAUH,WAEjD0M,EAAU,CACZnV,MAAO,CACLoF,aAAcI,EAAWqD,IACzBxD,UAAWG,EAAWQ,OAExBhB,UAAUxG,OAAA0H,EAAA,EAAA1H,CAAA,GACP0W,EAAkB1P,EAAWiD,YAEhCxD,SAAUO,EAAWsD,OAGvB5J,EAAWsG,EAAWoD,UAAUwM,QAAQD,GACxC5W,EAAK0H,SAAS,CAAE/G,WAAYA,EAAY+I,WAAW,SAEnD1J,EAAK0H,SAAS,CAAEoP,gBAAgB,KA5CjB9W,EAgDnB+W,2BAA6B,SAACpX,EAAM+L,EAAOjE,GACzC,IAAI9G,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YACjCA,EAAWhB,GAAM+L,GAAjB,UACE,CAACtK,GAAUzB,GAAV,aACC8H,EACJzH,EAAK0H,SAAS,CAAE/G,WAAYA,KArDXX,EAwDnBgX,iBAAmB,SAACrX,EAAM+L,GACxB,IAAI/K,EAAUV,OAAAyW,EAAA,EAAAzW,CAAA,GAAQD,EAAKQ,MAAMG,YAC7B+K,IAAU/K,EAAWhB,GAAMkF,OAAS,IACtClE,EAAWhB,GAAMsX,OAAOvL,EAAO,GAC/B1L,EAAK0H,SAAS,CAAE/G,WAAYA,MA1D9BX,EAAKQ,MAAQ,CACXG,WAAY,GACZ4V,YAAY,GAJGvW,wEAiEjB,OACEnB,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAACmY,EAAD,CAAa9V,UAAWA,GAAWiE,UAAWlF,KAAKmW,oBACnDzX,EAAAC,EAAAC,cAACoY,GAAD,MACAtY,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eACbN,EAAAC,EAAAC,cAACqY,EAAD,CACEhW,UAAWA,GACX4M,mBAAoBA,GACpBd,OAAQ/M,KAAKK,MAAM+V,WACnB5V,WAAYR,KAAKK,MAAMG,WACvBgM,gBAAiBxM,KAAKqW,oBACtBjJ,uBAAwBpN,KAAK4W,2BAC7BvJ,aAAcrN,KAAK6W,iBACnB7X,UAAU,eAEZN,EAAAC,EAAAC,cAACsY,GAAD,CAAYC,GAAC,EACXC,UAAWpX,KAAKK,MAAMG,sBAlFhBoD,IAAMC,WC/MJwT,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASlW,MACvB,2DCZNmW,IAASC,OAAOhZ,EAAAC,EAAAC,cAAC+Y,GAAD,MAAS5W,SAAS6W,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,0DEnInBC,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.55573ded.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nfunction CreateButton(props) {\r\n  return (\r\n    <Button\r\n      icon\r\n      labelPosition=\"left\"\r\n      className={\"landing_page_button\"}\r\n      onClick={props.onClick}\r\n    >\r\n      <Icon name={\"left arrow\"} style={{ width: \"20%\" }} size=\"large\" />\r\n      Create new file\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default CreateButton;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nfunction ImportButton(props) {\r\n  return (\r\n    <Button icon labelPosition=\"right\" onClick={props.onClick}>\r\n      <Icon name={\"download\"} style={{ width: \"20%\" }} size=\"large\" />\r\n      <input\r\n        type=\"file\"\r\n        className=\"import_file_button\"\r\n        multiple=\"\"\r\n        style={{ display: \"none\" }}\r\n        accept=\".json\"\r\n      />{\" \"}\r\n      Import file\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default ImportButton;\r\n","import React from \"react\";\r\nimport { Button, Grid, Header, Image } from \"semantic-ui-react\";\r\nimport CreateButton from \"./CreateButton\";\r\nimport ImportButton from \"./ImportButton\";\r\n\r\nconst ruleTypes = {\r\n  hasAccessRules: {\r\n    conclusion: \"hasAccess\",\r\n    defaultValue: false\r\n  },\r\n  hasObstacleRules: {\r\n    conclusion: \"isObstacle\",\r\n    defaultValue: true\r\n  },\r\n  hasOnewayRules: {\r\n    conclusion: \"isOneway\",\r\n    defaultValue: true\r\n  },\r\n  hasPriorityRules: {\r\n    conclusion: \"isReversed\",\r\n    defaultValue: 0\r\n  },\r\n  hasSpeedRules: {\r\n    conclusion: \"hasSpeed\",\r\n    defaultValue: 35\r\n  }\r\n};\r\n\r\nclass Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      screen: \"welcoming\",\r\n      errorMessage: \"\",\r\n      configFile: \"\",\r\n      file: \"\"\r\n    };\r\n    this.triggerImportFile = this.triggerImportFile.bind(this);\r\n  }\r\n\r\n  parseConfigurationFile = () => {};\r\n\r\n  triggerImportFile(reactComponent) {\r\n    var array = document.getElementsByClassName(\"import_file_button\");\r\n\r\n    var fileInput = array[0];\r\n    var ruleTypes = this.props.ruleTypes;\r\n\r\n    fileInput.click();\r\n    fileInput.addEventListener(\"change\", function(e) {\r\n      var file = fileInput.files[0];\r\n      var textType = /json.*/;\r\n\r\n      if (file.type.match(textType)) {\r\n        var reader = new FileReader();\r\n\r\n        reader.onload = function(e) {\r\n          var configFile;\r\n          var validFile = true;\r\n\r\n          try {\r\n            configFile = JSON.parse(reader.result);\r\n            if (configFile[\"@context\"] == null) {\r\n              validFile = false;\r\n            }\r\n            Object.keys(ruleTypes).map(k => {\r\n              if (configFile[k] == null || !Array.isArray(configFile[k]))\r\n                validFile = false;\r\n              return true;\r\n            });\r\n          } catch (error) {\r\n            validFile = false;\r\n          }\r\n\r\n          if (validFile) {\r\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\r\n              valid: true,\r\n              file: file,\r\n              configFile: JSON.parse(reader.result)\r\n            });\r\n          } else {\r\n            reactComponent.props.onChangeContent(\"UPLOAD\", {\r\n              valid: false,\r\n              file: null,\r\n              configFile: null\r\n            });\r\n          }\r\n        };\r\n\r\n        reader.readAsText(file);\r\n      } else {\r\n        reactComponent.props.onChangeContent(\"UPLOAD\", {\r\n          valid: false,\r\n          file: null,\r\n          configFile: null\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Grid centered>\r\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\r\n          <Grid.Column className=\"contentColumn\">\r\n            <div>\r\n              <Header as=\"h2\" icon textAlign=\"center\">\r\n                <Image\r\n                  centered\r\n                  rounded\r\n                  src=\"assets/logo.jpg\"\r\n                  className=\"centerLogo\"\r\n                />\r\n                <Header.Content>\r\n                  Your go-to for creating robust route configurations\r\n                </Header.Content>\r\n              </Header>\r\n              <Header as=\"h3\" dividing textAlign=\"center\">\r\n                Purpose\r\n              </Header>\r\n              <p>\r\n                Ever traveled with unconventional means of transport such as a\r\n                scooter ? You want to reach specific locations but your route\r\n                planner takes you through uncomfortable routes? We believe your\r\n                journey should always be adapted to your very specific mobility\r\n                needs. For this reason, we created *ConfiguRoute* : a tool to\r\n                quickly and easily create finely tuned configuration files for\r\n                your transport profiles.\r\n              </p>\r\n            </div>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\r\n          <Button.Group style={{ width: \"100%\" }}>\r\n            <CreateButton\r\n              onClick={() => {\r\n                this.props.onChangeContent(\"NEW\");\r\n              }}\r\n            />\r\n            <Button.Or />\r\n            <ImportButton\r\n              onClick={() => {\r\n                this.triggerImportFile(this);\r\n              }}\r\n            />\r\n          </Button.Group>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Index;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nfunction BackButton(props) {\r\n  return (\r\n    <Button\r\n      icon\r\n      labelPosition=\"left\"\r\n      className={\"landing_page_button\"}\r\n      onClick={props.onClick}\r\n      style={{'padding': 0, 'margin': 0, 'border-radius': '0 0 0 12px'}}\r\n    >\r\n      <Icon name={\"left arrow\"} style={{ width: \"20%\" }} size=\"large\" />\r\n      Go back\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default BackButton;\r\n","import React from \"react\";\r\nimport { Button, Icon } from \"semantic-ui-react\";\r\n\r\nfunction ConfirmButton(props) {\r\n  return (\r\n    <Button\r\n      icon\r\n      labelPosition=\"right\"\r\n      className={\"landing_page_button\"}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n      style={{'padding': 0, 'margin': 0, 'border-radius': '0px 0px 12px 0px'}}\r\n    >\r\n      <Icon name={\"check\"} style={{ width: \"20%\" }} size=\"large\" />\r\n      {props.label ? props.label : \"Confirm selection\"}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default ConfirmButton;\r\n","import React from \"react\";\r\nimport { Button, Grid, Header, Segment, Label } from \"semantic-ui-react\";\r\nimport BackButton from \"./BackButton\";\r\nimport ConfirmButton from \"./ConfirmButton\";\r\n\r\nclass Upload extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.validFileScreen = this.validFileScreen.bind(this);\r\n    this.errorScreen = this.errorScreen.bind(this);\r\n  }\r\n\r\n  computeNumberOfRules() {\r\n    var nbOfRules = 0;\r\n\r\n    if (this.props.data.configFile === undefined) return nbOfRules;\r\n\r\n    Object.keys(this.props.ruleTypes).map(k => {\r\n      nbOfRules += this.props.data.configFile[k].length;\r\n      return nbOfRules;\r\n    });\r\n\r\n    return nbOfRules;\r\n  }\r\n\r\n  validFileScreen() {\r\n    return (\r\n      <div>\r\n        <Header> {this.props.data.file.name} </Header>\r\n        <Segment>\r\n          <Label> Size: </Label> {this.props.data.file.size + \" bytes\"}\r\n        </Segment>\r\n        <Segment>\r\n          {\" \"}\r\n          <Label> Label: </Label> {this.props.data.configFile[\"rdfs:label\"]}{\" \"}\r\n        </Segment>\r\n        <Segment>\r\n          {\" \"}\r\n          <Label> Number of rules: </Label> {this.computeNumberOfRules()}\r\n        </Segment>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  errorScreen() {\r\n    return (\r\n      <Header>\r\n        {\" \"}\r\n        <Header.Content> Format unsupported </Header.Content>\r\n      </Header>\r\n    );\r\n  }\r\n\r\n  content() {\r\n    if (this.props.data.valid) {\r\n      return <this.validFileScreen />;\r\n    } else {\r\n      return <this.errorScreen />;\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Grid centered>\r\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\r\n          <Grid.Column className=\"contentColumn\">{this.content()}</Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\r\n          <Button.Group style={{ width: \"100%\" }}>\r\n            <BackButton\r\n              onClick={() => {\r\n                this.props.onChangeContent(\"INDEX\");\r\n              }}\r\n            />\r\n            <Button.Or />\r\n            <ConfirmButton\r\n              onClick={() => {\r\n                this.props.onConfirm(this.props.data.configFile);\r\n              }}\r\n              disabled={!this.props.data.valid}\r\n            />\r\n          </Button.Group>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Upload;\r\n","import React from \"react\";\r\nimport { Form, Grid, Button, Segment } from \"semantic-ui-react\";\r\nimport BackButton from \"./BackButton.jsx\";\r\nimport ConfirmButton from \"./ConfirmButton.jsx\";\r\n\r\nconst configFileContext = {\r\n  \"@context\": {\r\n    osm: \"https://w3id.org/openstreetmap/terms#\",\r\n    opp: \"https://w3id.org/openplannerteam/profile#\",\r\n    prov: \"http://www.w3.org/ns/prov#\",\r\n    hasMaxSpeed: {\r\n      \"@id\": \"opp:hasMaxSpeed\"\r\n    },\r\n    usePublicTransport: {\r\n      \"@id\": \"opp:usePublicTransport\"\r\n    },\r\n    hasAccessRules: {\r\n      \"@id\": \"opp:hasAccessRules\"\r\n    },\r\n    hasOnewayRules: {\r\n      \"@id\": \"opp:hasOnewayRules\"\r\n    },\r\n    hasSpeedRules: {\r\n      \"@id\": \"opp:hasSpeedRules\"\r\n    },\r\n    hasPriorityRules: {\r\n      \"@id\": \"opp:hasPriorityRules\"\r\n    },\r\n    hasObstacleRules: {\r\n      \"@id\": \"opp:hasObstacleRules\"\r\n    },\r\n    hasAccess: {\r\n      \"@id\": \"opp:hasAccess\"\r\n    },\r\n    isOneway: {\r\n      \"@id\": \"opp:isOneway\"\r\n    },\r\n    isReversed: {\r\n      \"@id\": \"opp:isReversed\"\r\n    },\r\n    hasSpeed: {\r\n      \"@id\": \"opp:hasSpeed\"\r\n    },\r\n    isObstacle: {\r\n      \"@id\": \"opp:isObstacle\"\r\n    },\r\n    hasPriority: {\r\n      \"@id\": \"opp:hasPriority\"\r\n    },\r\n    concludes: {\r\n      \"@id\": \"opp:concludes\"\r\n    },\r\n    hasOrder: {\r\n      \"@id\": \"opp:hasOrder\"\r\n    },\r\n    match: {\r\n      \"@id\": \"opp:match\"\r\n    },\r\n    fromProperty: {\r\n      \"@id\": \"opp:fromProperty\",\r\n      \"@type\": \"@id\"\r\n    },\r\n    hasPredicate: {\r\n      \"@id\": \"opp:hasPredicate\",\r\n      \"@type\": \"@id\"\r\n    },\r\n    hasObject: {\r\n      \"@id\": \"opp:hasObject\",\r\n      \"@type\": \"@id\"\r\n    }\r\n  }\r\n};\r\nclass NewConfigFileForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      description: \"\",\r\n      maxSpeed: \"\",\r\n      usePublicTransport: false,\r\n      showErrorMessage: false\r\n    };\r\n  }\r\n\r\n  onNewConfigFileCreation = formValues => {\r\n    var ruleTypes = this.props.ruleTypes;\r\n    var configFile = configFileContext;\r\n    // Given by the form\r\n    configFile[\"rdfs:label\"] = formValues.description;\r\n    configFile[\"hasMaxSpeed\"] = Number(formValues.maxSpeed);\r\n    configFile[\"usePublicTransport\"] = formValues.usePublicTransport;\r\n    // creation of default rules for each type of rule\r\n    Object.keys(this.props.ruleTypes).map(k => {\r\n      configFile[k] = [];\r\n\r\n      var defaultRule = {};\r\n      defaultRule[\"concludes\"] = {};\r\n      defaultRule[\"concludes\"][ruleTypes[k][\"conclusion\"]] =\r\n        ruleTypes[k][\"defaultValue\"];\r\n\r\n      configFile[k].push(defaultRule);\r\n\r\n      return k;\r\n    });\r\n\r\n    return configFile;\r\n  };\r\n  handleChange = (e, { name, value }) => this.setState({ [name]: value });\r\n\r\n  form() {\r\n    const { description, maxSpeed, usePublicTransport } = this.state;\r\n    return (\r\n      <Form>\r\n        <Form.Input\r\n          label=\"Description\"\r\n          placeholder=\"Vehicle profile for...\"\r\n          name=\"description\"\r\n          value={description}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <Form.Input\r\n          type=\"number\"\r\n          label=\"Maximum speed\"\r\n          placeholder=\"Speed in km/h\"\r\n          name=\"maxSpeed\"\r\n          value={maxSpeed}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n        <Form.Checkbox\r\n          label=\"Use public transport\"\r\n          onChange={() => {\r\n            this.setState({ usePublicTransport: !usePublicTransport });\r\n          }}\r\n          checked={usePublicTransport}\r\n        />\r\n        {this.state.showErrorMessage && (\r\n          <Segment> All field values must be completed</Segment>\r\n        )}\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Grid centered>\r\n        <Grid.Row columns={1} stretched style={{ height: \"80%\", padding: \"0\" }}>\r\n          <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row columns={2} stretched style={{ height: \"20%\", padding: \"0\" }}>\r\n          <Button.Group style={{ width: \"100%\" }}>\r\n            <BackButton\r\n              onClick={() => {\r\n                this.props.onChangeContent(\"INDEX\");\r\n              }}\r\n            />\r\n            <Button.Or />\r\n            <ConfirmButton\r\n              disabled={false}\r\n              onClick={() => {\r\n                var showErrorMessage = false;\r\n                Object.keys(this.state).map(k => {\r\n                  if (this.state[k] === \"\" || this.state[k] === null) {\r\n                    showErrorMessage = true;\r\n                  }\r\n                  return k;\r\n                });\r\n                if (showErrorMessage) {\r\n                  this.setState({ showErrorMessage: true });\r\n                } else {\r\n                  this.props.onConfirm(\r\n                    this.onNewConfigFileCreation(this.state)\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n          </Button.Group>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\nexport default NewConfigFileForm;\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport \"./landingPage.css\";\r\nimport Index from \"./Index.jsx\";\r\nimport Upload from \"./Upload.jsx\";\r\nimport NewConfigFileForm from \"./NewFileForm\";\r\n\r\nconst customModalStyle = {\r\n  content: {\r\n    width: \"80%\",\r\n    height: \"80%\",\r\n    padding: \"0\",\r\n    borderRadius: \"12px\",\r\n    outline: \"none\",\r\n    border: \"none\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    position: \"absolute\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\"\r\n  },\r\n  overlay: {\r\n    backgroundColor: \"rgba(0, 0, 0, 0.7)\"\r\n  }\r\n};\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass LandingPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showModal: true,\r\n      content: \"INDEX\",\r\n      fileData: {}\r\n    };\r\n\r\n    this.handleOpenModal = this.handleOpenModal.bind(this);\r\n    this.handleCloseModal = this.handleCloseModal.bind(this);\r\n    this.handleChangeContent = this.handleChangeContent.bind(this);\r\n    this.handleConfirm = this.handleConfirm.bind(this);\r\n  }\r\n\r\n  handleOpenModal() {\r\n    this.setState({ showModal: true });\r\n  }\r\n\r\n  handleCloseModal() {\r\n    this.setState({ showModal: false });\r\n  }\r\n\r\n  handleChangeContent(content, data) {\r\n    this.setState({ content: content, fileData: data });\r\n  }\r\n\r\n  handleConfirm(configFile) {\r\n    this.handleCloseModal();\r\n    this.props.onConfirm(configFile);\r\n  }\r\n\r\n  content = () => {\r\n    switch (this.state.content) {\r\n      case \"INDEX\":\r\n        return (\r\n          <Index\r\n            ruleTypes={this.props.ruleTypes}\r\n            onChangeContent={this.handleChangeContent}\r\n          />\r\n        );\r\n      case \"UPLOAD\":\r\n        return (\r\n          <Upload\r\n            ruleTypes={this.props.ruleTypes}\r\n            onChangeContent={this.handleChangeContent}\r\n            onConfirm={this.handleConfirm}\r\n            data={this.state.fileData}\r\n          />\r\n        );\r\n      case \"NEW\":\r\n        return (\r\n          <NewConfigFileForm\r\n            ruleTypes={this.props.ruleTypes}\r\n            onChangeContent={this.handleChangeContent}\r\n            onConfirm={this.handleConfirm}\r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        isOpen={this.state.showModal}\r\n        contentLabel=\"Landing Page\"\r\n        style={customModalStyle}\r\n      >\r\n        <this.content />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LandingPage;\r\n","import React from \"react\";\r\nimport {\r\n  Form,\r\n  Label,\r\n  Modal,\r\n  Segment,\r\n  Grid,\r\n  Button,\r\n  Message\r\n} from \"semantic-ui-react\";\r\nimport BackButton from \"../../landingPage/BackButton\";\r\nimport ConfirmButton from \"../../landingPage/ConfirmButton\";\r\nimport \"../../landingPage/landingPage.css\";\r\n\r\nclass NewRuleForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: true,\r\n      ruleType: \"hasAccessRules\",\r\n      key: \"osm:access\",\r\n      value: \"osm:Customers\",\r\n      conclusion: true,\r\n      order: 1\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { name, value }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleChangeChecked = e =>\r\n    this.setState({ conclusion: !this.state.conclusion });\r\n\r\n  form() {\r\n    const ruleTypeOptions = Object.keys(this.props.ruleTypes).map(k => {\r\n      return {\r\n        key: k,\r\n        value: k,\r\n        text: k\r\n      };\r\n    });\r\n\r\n    const keyOptions = Object.keys(this.props.selectOptions).map(k => {\r\n      return {\r\n        key: k,\r\n        value: k,\r\n        text: k\r\n      };\r\n    });\r\n\r\n    const prop = this.props.selectOptions[this.state.key];\r\n    const valueOptions =\r\n      prop === undefined\r\n        ? []\r\n        : prop.map(val => {\r\n            return {\r\n              key: val,\r\n              value: val,\r\n              text: val\r\n            };\r\n          });\r\n\r\n    let conclusionForm;\r\n    if (this.props.ruleTypes[this.state.ruleType].type === \"number\") {\r\n      conclusionForm = (\r\n        <Form.Input\r\n          type=\"number\"\r\n          name=\"conclusion\"\r\n          placeholder={this.props.ruleTypes[this.state.ruleType].conclusion}\r\n          label=\"conclusion\"\r\n          onChange={this.handleChange}\r\n          value={this.state.conclusion}\r\n        />\r\n      );\r\n    } else if (this.state.ruleType !== \"\") {\r\n      let label = this.props.ruleTypes[this.state.ruleType][\"conclusion\"];\r\n      conclusionForm = (\r\n        <Form.Checkbox\r\n          name=\"conclusion\"\r\n          placeholder={label}\r\n          label={label}\r\n          onChange={this.handleChangeChecked}\r\n          checked={this.state.conclusion}\r\n          slider\r\n        />\r\n      );\r\n    } else {\r\n      conclusionForm = null;\r\n    }\r\n\r\n    return (\r\n      <Form>\r\n        <Form.Select\r\n          name=\"ruleType\"\r\n          placeholder=\"Type of rule\"\r\n          label=\"Rule\"\r\n          options={ruleTypeOptions} //TODO: change it\r\n          onChange={this.handleChange}\r\n          value={this.state.ruleType}\r\n        />\r\n\r\n        <Form.Group>\r\n          <Form.Select\r\n            name=\"key\"\r\n            placeholder=\"Condition key\"\r\n            label=\"key\"\r\n            options={keyOptions}\r\n            onChange={this.handleChange}\r\n            value={this.state.key}\r\n          />\r\n          <Form.Select\r\n            name=\"value\"\r\n            placeholder=\"Condition value\"\r\n            label=\"value\"\r\n            options={valueOptions}\r\n            onChange={this.handleChange}\r\n            value={this.state.value}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group />\r\n        {conclusionForm}\r\n        <Form.Input\r\n          name=\"order\"\r\n          placeholder=\"Order of priority\"\r\n          label=\"Order of priority\"\r\n          onChange={this.handleChange}\r\n          value={this.state.order}\r\n        />\r\n        {this.state.showErrorMessage && (\r\n          <Segment>\r\n            {\" \"}\r\n            <Label> All field values must be completed </Label>\r\n          </Segment>\r\n        )}\r\n      </Form>\r\n    );\r\n  }\r\n\r\n  content = () => {\r\n    return (\r\n      <Grid centered style={{height: '100%', margin: 0}}>\r\n        <Grid.Row columns={1} stretched style={{ height: \"50%\", padding: \"12px\" }}>\r\n          <Grid.Column className=\"contentColumn\">{this.form()} </Grid.Column>\r\n        </Grid.Row>\r\n        <Grid.Row columns={2} stretched style={{ height: \"50px\", padding: \"0\" }}>\r\n          <Button.Group style={{ width: \"100%\"}}>\r\n            <BackButton onClick={this.props.onClose} />\r\n            <Button.Or />\r\n            <ConfirmButton\r\n              onClick={() => {\r\n                var showErrorMessage = false;\r\n                Object.keys(this.state).map(k => {\r\n                  if (this.state[k] === \"\" || this.state[k] === null) {\r\n                    showErrorMessage = true;\r\n                  }\r\n                  return k;\r\n                });\r\n                if (showErrorMessage) {\r\n                  this.setState({ showErrorMessage: true });\r\n                } else {\r\n                  this.props.onSubmit(this.state);\r\n                }\r\n              }}\r\n            />\r\n          </Button.Group>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    // TODO: required not working ?\r\n    return (\r\n      <Modal open={this.props.showModal} style={{'border-radius': '12px'}}>\r\n        <this.content />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewRuleForm;\r\n","import React from \"react\";\r\nimport { Modal, Button } from \"semantic-ui-react\";\r\nimport JSONInput from \"react-json-editor-ajrm\";\r\nimport locale from \"react-json-editor-ajrm/locale/en\";\r\nimport BackButton from \"../landingPage/BackButton\";\r\nimport ConfirmButton from \"../landingPage/ConfirmButton\";\r\n\r\nexport default function ConfigFileModal(props) {\r\n  var width = \"60vw\";\r\n  return (\r\n    <Modal open={props.open} style={{ width: width }}>\r\n      <JSONInput\r\n        id=\"configFile_editor\"\r\n        placeholder={props.configFile}\r\n        locale={locale}\r\n        height=\"70vh\"\r\n        width={width}\r\n        viewOnly={true}\r\n      />\r\n      <Button.Group style={{ width: width }}>\r\n        <BackButton onClick={props.onClose} />\r\n      </Button.Group>\r\n    </Modal>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  Card,\r\n  Button,\r\n  Icon,\r\n  Input,\r\n  Checkbox,\r\n  Segment,\r\n  Modal\r\n} from \"semantic-ui-react\";\r\nimport ConfigFileModal from \"../ConfigFileModal\";\r\n\r\nclass RuleCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: false\r\n    };\r\n  }\r\n\r\n  handleChange = (e, { value, checked }) => {\r\n    if (value === undefined) {\r\n      this.props.onChange(this.props.type, this.props.index, checked);\r\n    } else {\r\n      this.props.onChange(this.props.type, this.props.index, value);\r\n    }\r\n  };\r\n\r\n  content() {\r\n    var key = 0;\r\n    var option;\r\n    // for now only take the first key\r\n    var conclusion = Object.keys(this.props.rule.concludes)[0];\r\n    switch (typeof this.props.rule.concludes[conclusion]) {\r\n      case \"string\":\r\n      case \"number\":\r\n        option = (\r\n          <Input\r\n            type=\"number\"\r\n            value={this.props.rule.concludes[conclusion]}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n        break;\r\n      case \"boolean\":\r\n        option = (\r\n          <Checkbox\r\n            toggle\r\n            checked={this.props.rule.concludes[conclusion]}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n        break;\r\n      default:\r\n        option = null;\r\n        break;\r\n    }\r\n    key++;\r\n    return (\r\n      <Segment>\r\n        {\" \"}\r\n        {conclusion} {option}{\" \"}\r\n      </Segment>\r\n    );\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  handleOpenModal = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n\r\n  render() {\r\n    var header;\r\n    if (this.props.rule.match) {\r\n      header =\r\n        this.props.rule.match.hasPredicate +\r\n        \" - \" +\r\n        this.props.rule.match.hasObject;\r\n    } else {\r\n      header = \"Default rule\";\r\n    }\r\n    return (\r\n      <Card fluid>\r\n        <Card.Content>\r\n          {\" \"}\r\n          <Card.Header> {header} </Card.Header>\r\n        </Card.Content>\r\n        <Card.Content>{this.content()}</Card.Content>\r\n        <Card.Content>\r\n          {\" \"}\r\n          <Button.Group style={{ width: \"100%\" }}>\r\n            <Button\r\n              onClick={() => {\r\n                this.props.onDelete(this.props.type, this.props.index);\r\n              }}\r\n              icon\r\n              disabled={header === \"Default rule\"}\r\n            >\r\n              <Icon name=\"trash alternate outline\" />\r\n            </Button>\r\n            <Button.Or />\r\n            <Button\r\n              onClick={() => {\r\n                this.handleOpenModal();\r\n              }}\r\n              icon\r\n            >\r\n              <Icon name=\"code\" />\r\n            </Button>\r\n          </Button.Group>{\" \"}\r\n          {this.state.showModal && (\r\n            <ConfigFileModal\r\n              open={this.state.showModal}\r\n              onClose={() => {\r\n                this.setState({ showModal: false });\r\n              }}\r\n              configFile={this.props.rule}\r\n            />\r\n          )}\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RuleCard;\r\n","import React from \"react\";\r\nimport NewRuleForm from \"./rules/NewRuleForm\";\r\nimport { Button, Accordion, Icon, Menu, Segment } from \"semantic-ui-react\";\r\nimport RuleCard from \"./rules/ruleCard\";\r\nimport ConfigFileModal from \"./ConfigFileModal\";\r\nimport OntologyReader from \"../lib/OntologyReader\";\r\n\r\nexport default class LeftPanel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      showModal: false,\r\n      showConfigFile: false,\r\n      activeIndex: 0\r\n    };\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  handleClick = (e, titleProps) => {\r\n    const { index } = titleProps;\r\n    const { activeIndex } = this.state;\r\n    const newIndex = activeIndex === index ? -1 : index;\r\n\r\n    this.setState({ activeIndex: newIndex });\r\n  };\r\n\r\n  displayContent() {\r\n    if (this.props.loaded) {\r\n      var i = -1;\r\n      return Object.keys(this.props.ruleTypes).map(ruleType => {\r\n        i++;\r\n        var j = 0;\r\n        return (\r\n          <React.Fragment key={i}>\r\n            <Accordion.Title\r\n              active={this.state.activeIndex === i}\r\n              index={i}\r\n              onClick={this.handleClick}\r\n            >\r\n              <Icon name=\"dropdown\" />\r\n              {ruleType}\r\n            </Accordion.Title>\r\n            <Accordion.Content active={this.state.activeIndex === i}>\r\n              {this.props.configFile[ruleType].map(rule => {\r\n                return (\r\n                  <RuleCard\r\n                    type={ruleType}\r\n                    index={j++}\r\n                    key={JSON.stringify(rule)}\r\n                    rule={rule}\r\n                    onChange={this.props.onRuleConclusionChange}\r\n                    onDelete={this.props.onRuleDelete}\r\n                  />\r\n                );\r\n              })}\r\n            </Accordion.Content>\r\n          </React.Fragment>\r\n        );\r\n      });\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  handleSubmit = formValues => {\r\n    var newActiveIndex = Object.keys(this.props.ruleTypes).indexOf(\r\n      formValues.ruleType\r\n    );\r\n    if (newActiveIndex != this.state.activeIndex)\r\n      this.setState({ activeIndex: newActiveIndex });\r\n    this.handleCloseModal();\r\n    this.props.onNewRuleSubmit(formValues);\r\n  };\r\n\r\n  displayBasicProperties = () => {\r\n    return (\r\n      <React.Fragment key={10}>\r\n        <Accordion.Title\r\n          active={this.state.activeIndex === 10}\r\n          index={10}\r\n          onClick={this.handleClick}\r\n        >\r\n          <Icon name=\"dropdown\" />\r\n          {\"Basic properties\"}\r\n        </Accordion.Title>\r\n        <Accordion.Content active={this.state.activeIndex === 10}>\r\n          {Object.keys(this.props.configFile).map(key => {\r\n            var value = this.props.configFile[key];\r\n            if (!Array.isArray(value) && !(typeof value === \"object\")) {\r\n              var text = key + \" : \" + value;\r\n              return <Segment key={text}> {text} </Segment>;\r\n            }\r\n          })}\r\n        </Accordion.Content>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Left-panel\">\r\n        <Menu style={{margin: '12px', width: '100%'}}>\r\n          {/*<Menu.Item>\r\n            <img src=\"./assets/logo.jpg\" />\r\n          </Menu.Item>*/}\r\n          <Menu.Item>\r\n            <Button\r\n              primary\r\n              onClick={() => {\r\n                this.setState({ showModal: true });\r\n              }}\r\n            >\r\n              Add a rule\r\n            </Button>\r\n          </Menu.Item>\r\n          <Menu.Item>\r\n            <Button\r\n              onClick={() => {\r\n                this.setState({ showConfigFile: true });\r\n              }}\r\n              secondary\r\n            >\r\n              Display config file\r\n            </Button>\r\n          </Menu.Item>\r\n        </Menu>\r\n\r\n        <Accordion fluid styled style={{margin: '12px',}}>\r\n          {this.displayBasicProperties()}\r\n          {this.displayContent()}\r\n        </Accordion>\r\n        {this.state.showModal && (\r\n          <NewRuleForm\r\n            showModal={this.state.showModal}\r\n            ruleTypes={this.props.ruleTypes}\r\n            selectOptions={this.props.rulesSelectOptions}\r\n            onSubmit={this.handleSubmit}\r\n            onClose={this.handleCloseModal}\r\n          />\r\n        )}\r\n        {this.state.showConfigFile && (\r\n          <ConfigFileModal\r\n            open={this.state.showConfigFile}\r\n            configFile={this.props.configFile}\r\n            onClose={() => {\r\n              this.setState({ showConfigFile: false });\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const SPARQL = require('@comunica/actor-init-sparql');\r\n\r\n\r\nexport default class OntologyReader {\r\n    constructor(source) {\r\n        this._source = [{ type: 'file', value: source }];\r\n        this._engine = SPARQL.newEngine();\r\n    }\r\n\r\n    getEntityDescription(subject) {\r\n        return new Promise((resolve, reject) => {\r\n            const sources = this._source;\r\n\r\n            const query = `\r\n                  SELECT ?p ?o WHERE {\r\n                    <${subject}> ?p ?o.\r\n                  }`;\r\n\r\n            let results = {};\r\n            this._engine.query(query, { sources }).then(result => {\r\n                result.bindingsStream.on('data', data => {\r\n                    results[data.get('?p').value] = data.get('?o').value;\r\n                }).on('end', () => {\r\n                    resolve(results);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    getNamedIndividualsForProperty(property) {\r\n        return new Promise((resolve, reject) => {\r\n            const sources = this._source;\r\n\r\n            const query = `\r\n                  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\n                  \r\n                  SELECT ?ni WHERE {\r\n                    <${property}> rdfs:range ?range.\r\n                    ?ni a ?range.\r\n                  }`;\r\n\r\n            let results = [];\r\n            this._engine.query(query, { sources }).then(result => {\r\n                result.bindingsStream.on('data', data => {\r\n                    results.push(data.get('?ni').value);\r\n                }).on('end', () => {\r\n                    resolve(results);\r\n                });\r\n            });\r\n        });\r\n    }\r\n}","import React from \"react\";\r\nimport { Button, Icon, Label } from 'semantic-ui-react';\r\n\r\nexport default function MarkerButton(props){\r\n    return(\r\n        <Button disabled={props.disabled} as='div'  labelPosition='right'\r\n                onClick={props.onClick}>\r\n            <Button icon>\r\n                <Icon name='pin icon' />\r\n                {props.children}\r\n            </Button>\r\n            <Label as='a' basic pointing='left'>{props.marker.placed\r\n                && Math.round(props.marker.lngLat.lat * 10000) / 10000 + \", \"\r\n                + Math.round(props.marker.lngLat.lng * 10000) / 10000}</Label>\r\n        </Button>\r\n    );\r\n}","import React from \"react\";\r\nimport { Button, Container, Dropdown, Icon, Input, Label } from 'semantic-ui-react';\r\nimport MarkerButton from './markerButton';\r\n\r\nclass MapToolbar extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            active_route_label_input: undefined,\r\n        }\r\n    }\r\n\r\n    updateActiveRouteText(evt) {\r\n        this.setState({\r\n          active_route_label_input: evt.target.value,\r\n        });\r\n      }\r\n\r\n    render(){\r\n        const { calculating, from_marker, to_marker, selectable_routes, selected_routes, \r\n                handleSelectedRouteAddition, handleSelectedRoutesChange, calculateRoute,\r\n                saveCurrentRoute, createToMarker, createFromMarker } = this.props;\r\n        return(\r\n            <Container className=\"mapToolbar\">\r\n                \r\n                <MarkerButton disabled={calculating}\r\n                              onClick={() => {createFromMarker()}}\r\n                              marker={from_marker}>\r\n                    From\r\n                </MarkerButton>\r\n                <MarkerButton disabled={calculating}\r\n                              onClick={() => {createToMarker()}}\r\n                              marker={to_marker}>\r\n                    To\r\n                </MarkerButton>\r\n                \r\n\r\n                <Button disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating}\r\n                    loading={calculating}\r\n                    onClick={() => { calculateRoute() }}>\r\n                    Calculate route\r\n                </Button>\r\n\r\n                <Input type='text' placeholder='name' \r\n                        onChange={this.updateActiveRouteText} \r\n                        value={this.state.active_route_label_input} action\r\n                        disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating} >\r\n                    <input />\r\n                    <Button type='submit' \r\n                        onClick={() => {saveCurrentRoute(this.state.active_route_label_input)}} \r\n                        disabled={!(from_marker.lngLat && to_marker.lngLat) || calculating} >\r\n                            Save route\r\n                    </Button>\r\n                </Input>\r\n\r\n                <Dropdown\r\n                    options={selectable_routes}\r\n                    placeholder='Choose routes to display'\r\n                    search\r\n                    selection\r\n                    fluid\r\n                    multiple\r\n                    allowAdditions\r\n                    value={selected_routes}\r\n                    onAddItem={handleSelectedRouteAddition}\r\n                    onChange={handleSelectedRoutesChange}\r\n                    className=\"routeSelectDropdown\"\r\n                />\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MapToolbar;","import { Planner } from \"plannerjs\";\r\nimport React from \"react\";\r\nimport ReactMapboxGl, { Feature, Layer } from \"react-mapbox-gl\";\r\nimport MapToolbar from './maptoolbar';\r\n\r\nconst Map = ReactMapboxGl({\r\n  accessToken:\r\n    \"pk.eyJ1Ijoid291dGVydmRkIiwiYSI6ImNqczRvbzRlMzA2a2UzeWx4MHlqem1lajYifQ.-kYtzbZnQhJTVeh8zDfgYg\"\r\n});\r\n\r\n\r\nconst markerFromGeojson = {\r\n  \"type\": \"FeatureCollection\",\r\n  \"features\": [\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [0, 0]\r\n      }\r\n    }\r\n  ]\r\n};\r\nconst markerToGeojson = {\r\n  \"type\": \"FeatureCollection\",\r\n  \"features\": [\r\n    {\r\n      \"type\": \"Feature\",\r\n      \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [0, 0]\r\n      }\r\n    }\r\n  ]\r\n};\r\n\r\nconst lineLayout = {\r\n  \"line-cap\": \"round\",\r\n  \"line-join\": \"round\"\r\n};\r\n\r\nconst linePaint = {\r\n  \"line-color\": \"#B52700\",\r\n  \"line-width\": 8\r\n};\r\n\r\nconst savedRouteLinePaint = {\r\n  'line-color': '#BABABA',\r\n  'line-width': 5\r\n};\r\n\r\nconst containerStyle = {\r\n  height: \"80vh\",\r\n  width: \"100%\",\r\n  cursor: ''\r\n};\r\n\r\n\r\nclass MapPannel extends React.Component{\r\n    \r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        center: [4.5118, 50.6282],  //should be props?\r\n        zoom: [6.83],\r\n        calculating: false,\r\n        from_marker: {\r\n          placed: false,\r\n          enabled: false,\r\n          dragging: false,\r\n          lngLat: undefined\r\n        },\r\n        to_marker: {\r\n          placed: false,\r\n          enabled: false,\r\n          dragging: false,\r\n          lngLat: undefined\r\n        },\r\n        active_route: {\r\n          key: undefined,\r\n          text: undefined,\r\n          coordinates: []\r\n        },\r\n        saved_routes: [],\r\n        selectable_routes: [],\r\n        selected_routes: [],\r\n        container_style: containerStyle\r\n      };\r\n\r\n    this.createFromMarker = this.createFromMarker.bind(this);\r\n    this.createToMarker = this.createToMarker.bind(this);\r\n    this.onStyleLoad = this.onStyleLoad.bind(this);\r\n    this.onMouseMove = this.onMouseMove.bind(this);\r\n    this.onMouseClick = this.onMouseClick.bind(this);\r\n    this.calculateRoute = this.calculateRoute.bind(this);\r\n    this.handleSelectedRoutesChange = this.handleSelectedRoutesChange.bind(this);\r\n    this.handleSelectedRouteAddition = this.handleSelectedRouteAddition.bind(this);\r\n    this.onMouseUp = this.onMouseUp.bind(this);\r\n\r\n    this.planner = new Planner();\r\n    this.planner.setProfileID(\"PEDESTRIAN\");\r\n  }\r\n\r\n  componentDidUpdate(pervProps){\r\n    if(pervProps.configFile !== this.props.configFile){\r\n      this.planner.setDevelopmentProfile(this.props.configFile);\r\n      console.log(\"config file loaded:\");\r\n      console.log(this.props.configFile);\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  calculateRoute() {\r\n    if (this.state.from_marker.placed && this.state.to_marker.placed && !this.state.calculating) {\r\n      this.setState({ calculating: true });\r\n      let query = {\r\n        roadNetworkOnly: true,  // don't mix with publicTransportOnly, for obvious reasons\r\n        from: { latitude: this.state.from_marker.lngLat.lat, longitude: this.state.from_marker.lngLat.lng },\r\n        to: { latitude: this.state.to_marker.lngLat.lat, longitude: this.state.to_marker.lngLat.lng }\r\n      };\r\n      console.log(query);\r\n      console.log(\"waiting...\");\r\n      console.log(\"querying planner.js...\");\r\n      this.planner.query(query)\r\n        .take(1)\r\n        .on(\"error\", (error) => {\r\n          console.log(error);\r\n        })\r\n        .on(\"data\", (path) => {\r\n          //console.log(\"got result:\");\r\n          //console.log(JSON.stringify(path, null, \" \"));\r\n          let route_coordinates = [];\r\n          path.steps.forEach((step) => {\r\n            route_coordinates.push([step.startLocation.longitude, step.startLocation.latitude]);\r\n            route_coordinates.push([step.stopLocation.longitude, step.stopLocation.latitude]);\r\n          });\r\n          //console.log(coordinates);\r\n          let date = new Date();\r\n          this.setState(prevState => ({\r\n            active_route: {\r\n              key: prevState.saved_routes.length,\r\n              text: date.toISOString(),\r\n              coordinates: route_coordinates\r\n            }\r\n          }));\r\n        })\r\n        .on(\"end\", () => {\r\n          console.log(\"end\\n\");\r\n          this.setState({ calculating: false });\r\n        });\r\n    }\r\n  }\r\n\r\n  saveCurrentRoute(label) {\r\n    //set the label\r\n    this.setState(prevState => ({\r\n      active_route: {\r\n        key: prevState.active_route.key,\r\n        text: label,\r\n        coordinates: prevState.active_route.coordinates\r\n      }\r\n    }));\r\n    let key = this.state.active_route.key;\r\n    let routeExists = false;\r\n    this.state.saved_routes.forEach((route) => {\r\n      if (route.key === key) {\r\n        routeExists = true;\r\n        return;\r\n      }\r\n    });\r\n    if (!routeExists) {\r\n      this.setState(prevState => ({\r\n        saved_routes: [prevState.active_route, ...prevState.saved_routes],\r\n        selectable_routes: [{ key: prevState.active_route.key, text: prevState.active_route.text, value: prevState.active_route.key }, \r\n                            ...prevState.selectable_routes]\r\n      }));\r\n    }\r\n\r\n    console.log(this.state.saved_routes);\r\n  }\r\n\r\n  onMouseUp(map, e) {\r\n    var coords = e.lngLat;\r\n    if (this.state.from_marker.dragging) {\r\n      this.setState(prevState => ({\r\n        from_marker: {\r\n          placed: prevState.from_marker.placed,\r\n          enabled: prevState.from_marker.enabled,\r\n          dragging: false,\r\n          lngLat: coords\r\n        }\r\n      }));\r\n      this.calculateRoute();\r\n    }\r\n    else if (this.state.to_marker.dragging) {\r\n      this.setState(prevState => ({\r\n        to_marker: {\r\n          placed: prevState.to_marker.placed,\r\n          enabled: prevState.to_marker.enabled,\r\n          dragging: false,\r\n          lngLat: coords\r\n        }\r\n      }));\r\n      this.calculateRoute();\r\n    }\r\n  }\r\n  onStyleLoad(map, e) {\r\n    map.addSource('from_marker', {\r\n      \"type\": \"geojson\",\r\n      \"data\": markerFromGeojson\r\n    });\r\n    map.addSource('to_marker', {\r\n      \"type\": \"geojson\",\r\n      \"data\": markerToGeojson\r\n    });\r\n    map.addLayer({\r\n      \"id\": \"from_marker\",\r\n      \"type\": \"circle\",\r\n      \"source\": \"from_marker\",\r\n      \"paint\": {\r\n        \"circle-radius\": 10,\r\n        \"circle-color\": \"#3887be\"\r\n      }\r\n    });\r\n    map.addLayer({\r\n      \"id\": \"to_marker\",\r\n      \"type\": \"circle\",\r\n      \"source\": \"to_marker\",\r\n      \"paint\": {\r\n        \"circle-radius\": 10,\r\n        \"circle-color\": \"#6b7cff\"\r\n      }\r\n    });    \r\n\r\n      let parent = this;\r\n      // When the cursor enters a feature in the point layer, prepare for dragging.\r\n      map.on('mouseenter', 'from_marker', function() {\r\n        map.setPaintProperty('from_marker', 'circle-color', '#3bb2d0');\r\n        containerStyle.cursor = \"move\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n          \r\n      map.on('mouseleave', 'from_marker', function() {\r\n        map.setPaintProperty('from_marker', 'circle-color', '#3887be');\r\n        containerStyle.cursor = \"\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n      \r\n      map.on('mousedown', 'from_marker', function(e) {\r\n        // Prevent the default map drag behavior.\r\n        e.preventDefault();\r\n        \r\n        parent.setState(prevState => ({\r\n          from_marker: {\r\n            placed: prevState.from_marker.placed,\r\n            enabled: prevState.from_marker.enabled,\r\n            dragging: true,\r\n            lngLat: prevState.from_marker.lngLat\r\n          }\r\n        }));\r\n        containerStyle.cursor = \"grab\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n\r\n      map.on('mouseenter', 'to_marker', function() {\r\n        map.setPaintProperty('to_marker', 'circle-color', '#3bb2d0');\r\n        containerStyle.cursor = \"move\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n          \r\n      map.on('mouseleave', 'to_marker', function() {\r\n        map.setPaintProperty('to_marker', 'circle-color', '#9f7feb');\r\n        containerStyle.cursor = \"\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n      \r\n      map.on('mousedown', 'to_marker', function(e) {\r\n        // Prevent the default map drag behavior.\r\n        e.preventDefault();\r\n        parent.setState(prevState => ({\r\n          to_marker: {\r\n            placed: prevState.to_marker.placed,\r\n            enabled: prevState.to_marker.enabled,\r\n            dragging: true,\r\n            lngLat: prevState.to_marker.lngLat\r\n          }\r\n        }));\r\n        containerStyle.cursor = \"grab\";\r\n        parent.setState({container_style: containerStyle});\r\n      });\r\n    }\r\n\r\n  onMouseClick(map, evt) {\r\n    var coords = evt.lngLat;\r\n    if (this.state.from_marker.enabled && !this.state.from_marker.placed && !this.state.from_marker.dragging) {\r\n      console.log(\"placed from-marker at \" + this.state.from_marker.lngLat);\r\n      this.setState(prevState => ({\r\n        from_marker: {\r\n          placed: true,\r\n          enabled: true,\r\n          dragging: false,\r\n          lngLat: coords\r\n        }\r\n      }));\r\n      console.log(this.state.from_marker);\r\n    }\r\n    if (this.state.to_marker.enabled && !this.state.to_marker.placed && !this.state.to_marker.dragging) {\r\n      console.log(\"placed to-marker at \" + this.state.to_marker.lngLat);\r\n      this.setState(prevState => ({\r\n        to_marker: {\r\n          placed: true,\r\n          enabled: true,\r\n          dragging: false,\r\n          lngLat: coords\r\n        }\r\n      }));\r\n      console.log(this.state.to_marker);\r\n    }\r\n    \r\n    if(this.state.from_marker.enabled && this.state.to_marker.enabled\r\n      && (JSON.stringify([this.state.from_marker.lngLat.lng, this.state.from_marker.lngLat.lat])\r\n          !== JSON.stringify(this.state.active_route.coordinates[0])\r\n      ||  JSON.stringify([this.state.to_marker.lngLat.lng, this.state.to_marker.lngLat.lat])\r\n          !== JSON.stringify(this.state.active_route.coordinates[this.state.active_route.coordinates.length -1]))){\r\n      this.calculateRoute();\r\n    }\r\n  }\r\n\r\n  onMouseMove(map, evt) {\r\n    if (this.state.from_marker.enabled && !this.state.from_marker.placed && !this.state.from_marker.dragging) {\r\n      markerFromGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\r\n      map.getSource('from_marker').setData(markerFromGeojson);\r\n    }\r\n    else if (this.state.to_marker.enabled && !this.state.to_marker.placed && !this.state.to_marker.dragging) {\r\n      markerToGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\r\n      map.getSource('to_marker').setData(markerToGeojson);\r\n    }\r\n    if (this.state.from_marker.dragging) {\r\n      markerFromGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\r\n      map.getSource('from_marker').setData(markerFromGeojson);\r\n    } else if (this.state.to_marker.dragging) {\r\n      markerToGeojson.features[0].geometry.coordinates = [evt.lngLat.lng, evt.lngLat.lat];\r\n      map.getSource('to_marker').setData(markerToGeojson);\r\n    }\r\n  }\r\n\r\n  createFromMarker() {\r\n    console.log(this.state.from_marker)\r\n    this.setState(prevState => ({\r\n      from_marker: {\r\n        placed: false,\r\n        enabled: true,\r\n        dragging: prevState.from_marker.dragging,\r\n        lngLat: prevState.from_marker.lngLat\r\n      }\r\n    }));\r\n  }\r\n\r\n  createToMarker() {\r\n    console.log(this.state.to_marker.lngLat)\r\n    this.setState(prevState => ({\r\n      to_marker: {\r\n        placed: false,\r\n        enabled: true,\r\n        dragging: prevState.to_marker.dragging,\r\n        lngLat: prevState.to_marker.lngLat\r\n      }\r\n    }));\r\n  }\r\n\r\n  handleSelectedRouteAddition = (e, { value }) => {\r\n    console.log(\"hadleAddition value\");\r\n    console.log(value);\r\n    this.setState(prevState => ({\r\n      selectable_routes: [...prevState.selectable_routes, { key: value, text: value, value }],\r\n    }))\r\n  }\r\n\r\n  handleSelectedRoutesChange = (e, { value }) => {\r\n    console.log(\"hadleChange value\");\r\n    console.log(value);\r\n    console.log(this.state.saved_routes);\r\n    this.setState({ selected_routes: value })\r\n  }\r\n\r\n  render() {\r\n    const { center, zoom, from_marker, to_marker } = this.state;\r\n    const routesToDraw = this.state.selected_routes.map((k) => {\r\n      let size = this.state.saved_routes.length;\r\n      let i = 0;\r\n      while (this.state.saved_routes[i].key != k && i < size) {\r\n        i++;\r\n      }\r\n      return (\r\n        <Layer type=\"line\" layout={lineLayout} paint={savedRouteLinePaint}>\r\n          <Feature coordinates={this.state.saved_routes[i].coordinates} />\r\n        </Layer>\r\n      );\r\n    }\r\n\r\n    );\r\n    return (\r\n      <div style={{height: '100%', width: '100%'}}>\r\n        <MapToolbar style={{height: '20vh', width: '100vh'}}\r\n              calculating={this.state.calculating}\r\n              from_marker={this.state.from_marker}\r\n              to_marker={this.state.to_marker}\r\n              createFromMarker={this.createFromMarker}\r\n              createToMarker={this.createToMarker}\r\n              selectable_routes={this.state.selectable_routes}\r\n              selected_routes={this.state.selected_routes}\r\n              handleSelectedRouteAddition={this.handleSelectedRouteAddition}\r\n              handleSelectedRoutesChange={this.handleSelectedRoutesChange}\r\n              calculateRoute={this.calculateRoute}\r\n              saveCurrentRoute={this.saveCurrentRoute}/>\r\n        <Map\r\n          style=\"mapbox://styles/mapbox/streets-v11\"\r\n          containerStyle={ this.state.container_style } \r\n          center={ center }\r\n          zoom={ zoom }\r\n          onStyleLoad={this.onStyleLoad}\r\n          onMouseMove={this.onMouseMove}\r\n          onMouseUp={this.onMouseUp}\r\n          onClick={this.onMouseClick}>\r\n            <Layer type=\"line\" layout={lineLayout} paint={linePaint}>\r\n                <Feature coordinates={ this.state.active_route.coordinates } />\r\n            </Layer>\r\n            {routesToDraw}\r\n        </Map>\r\n      </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default MapPannel;\r\n","import React from \"react\";\r\nimport MapPannel from \"./map/map\";\r\n\r\nfunction RightPanel(props) {\r\n  return (\r\n  <div className=\"Right-panel\">\r\n    <MapPannel configFile={props.configFile} style={{height: '100%', width: '100%' }}/>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default RightPanel;\r\n","import React from \"react\";\r\nimport LandingPage from \"./landingPage/LandingPage.jsx\";\r\nimport LeftPanel from \"./mainPage/LeftPanel.jsx\";\r\nimport RightPanel from \"./mainPage/RightPanel.jsx\";\r\nimport \"./App.css\";\r\nimport logo from \"./assets/logo.jpg\";\r\nconst rulesSelectOptions = {\r\n  \"osm:access\": [\r\n    \"osm:Agricultural\",\r\n    \"osm:Customers\",\r\n    \"osm:Delivery\",\r\n    \"osm:Designated\",\r\n    \"osm:Destination\",\r\n    \"osm:Discouraged\",\r\n    \"osm:Dismount\",\r\n    \"osm:Emergency\",\r\n    \"osm:Forestry\",\r\n    \"osm:NoAccess\",\r\n    \"osm:Permissive\",\r\n    \"osm:Private\",\r\n    \"osm:UseSidepath\",\r\n    \"osm:FreeAccess\"\r\n  ],\r\n  \"osm:barrier\": [\r\n    \"osm:Block\",\r\n    \"osm:Bollard\",\r\n    \"osm:BorderControl\",\r\n    \"osm:BumpGate\",\r\n    \"osm:BusTrap\",\r\n    \"osm:CattleGrid\",\r\n    \"osm:Chain\",\r\n    \"osm:CycleBarrier\",\r\n    \"osm:Debris\",\r\n    \"osm:Entrance\",\r\n    \"osm:Gate\",\r\n    \"osm:LiftGate\",\r\n    \"osm:SallyPort\",\r\n    \"osm:SwingGate\",\r\n    \"osm:TollBooth\",\r\n    \"osm:Turnstile\"\r\n  ],\r\n  \"osm:bicycle\": [\r\n    \"osm:Designated\",\r\n    \"osm:Destination\",\r\n    \"osm:Dismount\",\r\n    \"osm:NoAccess\",\r\n    \"osm:OfficialAccess\",\r\n    \"osm:Permissive\",\r\n    \"osm:Private\",\r\n    \"osm:UseSidepath\",\r\n    \"osm:FreeAccess\"\r\n  ],\r\n  \"osm:construction\": [\"osm:UnderConstruction\"],\r\n  \"osm:crossing\": [\"osm:Uncontrolled\", \"osm:Unmarked\"],\r\n  \"osm:cycleway\": [\r\n    \"osm:Lane\",\r\n    \"osm:Opposite\",\r\n    \"osm:OpposciteLane\",\r\n    \"osm:OppositeTrack\",\r\n    \"osm:ShareBusway\",\r\n    \"osm:Shared\",\r\n    \"osm:SharedLane\",\r\n    \"osm:Track\"\r\n  ],\r\n  \"osm:footway\": [\"osm:Sidewalk\"],\r\n  \"osm:highway\": [\r\n    \"osm:Bridleway\",\r\n    \"osm:UnderConstruction\",\r\n    \"osm:HighwayCrossing\",\r\n    \"osm:CycleHighway\",\r\n    \"osm:FootHighway\",\r\n    \"osm:GiveWay\",\r\n    \"osm:LivingStreet\",\r\n    \"osm:Motorway\",\r\n    \"osm:MotorwayLink\",\r\n    \"osm:Path\",\r\n    \"osm:Primary\",\r\n    \"osm:PrimaryLink\",\r\n    \"osm:Proposed\",\r\n    \"osm:Residential\",\r\n    \"osm:Road\",\r\n    \"osm:Secondary\",\r\n    \"osm:SecondaryLink\",\r\n    \"osm:Service\",\r\n    \"osm:Steps\",\r\n    \"osm:Stop\",\r\n    \"osm:Tertiary\",\r\n    \"osm:TertiaryLink\",\r\n    \"osm:Track\",\r\n    \"osm:TrafficSignals\",\r\n    \"osm:Trunk\",\r\n    \"osm:TrunkLink\",\r\n    \"osm:Unclassified\"\r\n  ],\r\n  \"osm:motor_vehicle\": [\r\n    \"osm:Agricultural\",\r\n    \"osm:Customers\",\r\n    \"osm:Delivery\",\r\n    \"osm:Designated\",\r\n    \"osm:Destination\",\r\n    \"osm:NoAccess\",\r\n    \"osm:Official\",\r\n    \"osm:Permissive\",\r\n    \"osm:Private\",\r\n    \"osm:FreeAccess\"\r\n  ],\r\n  \"osm:motorcar\": [\r\n    \"osm:Agricultural\",\r\n    \"osm:Customers\",\r\n    \"osm:Delivery\",\r\n    \"osm:Designated\",\r\n    \"osm:Destination\",\r\n    \"osm:Forestry\",\r\n    \"osm:NoAccess\",\r\n    \"osm:Official\",\r\n    \"osm:Permissive\",\r\n    \"osm:Private\",\r\n    \"osm:FreeAccess\"\r\n  ],\r\n  \"osm:oneway_bicycle\": [\r\n    \"osm:InReverseOrder\",\r\n    \"osm:InOrder\",\r\n    \"osm:Bidirectional\",\r\n    \"osm:InOrder\"\r\n  ],\r\n  \"osm:oneway\": [\r\n    \"osm:InReverseOrder\",\r\n    \"osm:InOrder\",\r\n    \"osm:InOrder\",\r\n    \"osm:Bidirectional\"\r\n  ],\r\n  \"osm:smoothness\": [\r\n    \"osm:BadSmoothness\",\r\n    \"osm:ExcellentSmoothness\",\r\n    \"osm:GoodSmoothness\",\r\n    \"osm:HorribleSmoothness\",\r\n    \"osm:ImpassableSmoothness\",\r\n    \"osm:IntermediateSmoothness\",\r\n    \"osm:VeryBadSmoothness\",\r\n    \"osm:VeryHorribleSmoothness\"\r\n  ],\r\n  \"osm:surface\": [\r\n    \"osm:Asphalt\",\r\n    \"osm:Cobblestone\",\r\n    \"osm:Compacted\",\r\n    \"osm:Concrete\",\r\n    \"osm:Dirt\",\r\n    \"osm:Dirt\",\r\n    \"osm:FineGravel\",\r\n    \"osm:Grass\",\r\n    \"osm:Gravel\",\r\n    \"osm:Ground\",\r\n    \"osm:Mud\",\r\n    \"osm:Paved\",\r\n    \"osm:PavingStones\",\r\n    \"osm:Pebblestone\",\r\n    \"osm:Sand\",\r\n    \"osm:Sett\",\r\n    \"osm:UnhewnCobblestone\",\r\n    \"osm:Unpaved\",\r\n    \"osm:Wood\"\r\n  ],\r\n  \"osm:tracktype\": [\r\n    \"osm:Grade1\",\r\n    \"osm:Grade2\",\r\n    \"osm:Grade3\",\r\n    \"osm:Grade4\",\r\n    \"osm:Grade5\"\r\n  ],\r\n  \"osm:vehicle\": [\r\n    \"osm:Customers\",\r\n    \"osm:Delivery\",\r\n    \"osm:Designated\",\r\n    \"osm:Destination\",\r\n    \"osm:Forestry\",\r\n    \"osm:NoAccess\",\r\n    \"osm:Permissive\",\r\n    \"osm:Private\",\r\n    \"osm:FreeAccess\"\r\n  ]\r\n};\r\n\r\nconst ruleTypes = {\r\n  hasAccessRules: {\r\n    conclusion: \"hasAccess\",\r\n    type: \"boolean\",\r\n    defaultValue: false\r\n  },\r\n  hasObstacleRules: {\r\n    conclusion: \"isObstacle\",\r\n    type: \"boolean\",\r\n    defaultValue: true\r\n  },\r\n  hasOnewayRules: {\r\n    conclusion: \"isOneway\",\r\n    type: \"boolean\",\r\n    defaultValue: true\r\n  },\r\n  hasPriorityRules: {\r\n    conclusion: \"hasPriority\",\r\n    type: \"number\",\r\n    defaultValue: 0\r\n  },\r\n  hasSpeedRules: {\r\n    conclusion: \"hasSpeed\",\r\n    type: \"number\",\r\n    defaultValue: 35\r\n  }\r\n};\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"App-header\">\r\n      <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n      <span className=\"App-header\"> Configuroute </span>\r\n    </header>\r\n  );\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      configFile: {},\r\n      leftLoaded: false\r\n    };\r\n  }\r\n\r\n  handleFileConfirm = configFile => {\r\n    this.setState({ configFile: configFile, leftLoaded: true });\r\n  };\r\n\r\n  handleNewRuleSubmit = formValues => {\r\n    var isANewRule = true;\r\n    this.state.configFile[formValues.ruleType].map(rule => {\r\n      if (\r\n        rule[\"match\"] &&\r\n        rule[\"match\"][\"hasPredicate\"] === formValues.key &&\r\n        rule[\"match\"][\"hasObject\"] === formValues.value\r\n      ) {\r\n        isANewRule = false;\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n\r\n    if (isANewRule) {\r\n      var configFile = { ...this.state.configFile };\r\n      var conclusionLabel = ruleTypes[formValues.ruleType].conclusion;\r\n\r\n      let newRule = {\r\n        match: {\r\n          hasPredicate: formValues.key,\r\n          hasObject: formValues.value\r\n        },\r\n        concludes: {\r\n          [conclusionLabel]: formValues.conclusion\r\n        },\r\n        hasOrder: formValues.order\r\n      };\r\n\r\n      configFile[formValues.ruleType].unshift(newRule);\r\n      this.setState({ configFile: configFile, showModal: false });\r\n    } else {\r\n      this.setState({ triggerMessage: true });\r\n    }\r\n  };\r\n\r\n  handleRuleConclusionChange = (type, index, value) => {\r\n    var configFile = { ...this.state.configFile };\r\n    configFile[type][index][\"concludes\"][\r\n      [ruleTypes[type][\"conclusion\"]]\r\n    ] = value;\r\n    this.setState({ configFile: configFile });\r\n  };\r\n\r\n  handleRuleDelete = (type, index) => {\r\n    var configFile = { ...this.state.configFile };\r\n    if (index !== configFile[type].length - 1) {\r\n      configFile[type].splice(index, 1);\r\n      this.setState({ configFile: configFile });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <LandingPage ruleTypes={ruleTypes} onConfirm={this.handleFileConfirm} />\r\n        <Header />\r\n        <div className=\"App-content\">\r\n          <LeftPanel\r\n            ruleTypes={ruleTypes}\r\n            rulesSelectOptions={rulesSelectOptions}\r\n            loaded={this.state.leftLoaded}\r\n            configFile={this.state.configFile}\r\n            onNewRuleSubmit={this.handleNewRuleSubmit}\r\n            onRuleConclusionChange={this.handleRuleConclusionChange}\r\n            onRuleDelete={this.handleRuleDelete}\r\n            className=\"Left-panel\"\r\n          />\r\n          <RightPanel c\r\n            onfigFile={this.state.configFile} \r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App.jsx\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.47bb72e5.jpg\";"],"sourceRoot":""}